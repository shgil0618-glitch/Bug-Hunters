<div class="container-fluid">
	<div class="table-responsive">
		<table class="table table-hover align-middle border">
			<thead class="table-light">
				<tr>
					<th>회원ID</th>
					<th>이메일</th>
					<th>상태</th>
					<th>정지 사유 / 기한</th>
					<th>관리 액션</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="user : ${users}">
					<td th:text="${user.appUserId}" class="fw-bold"></td>
					<td th:text="${user.email}"></td>
					<td><span
						th:class="${user.status == 'ACTIVE' ? 'badge bg-success' : 'badge bg-danger'}"
						th:text="${user.status == 'ACTIVE' ? '정상' : '정지'}"></span></td>
					<td>
						<div th:if="${user.status == 'SUSPEND'}">
							<small class="d-block text-danger"
								th:text="'사유: ' + ${user.suspendReason}"></small> <small
								class="d-block text-muted" th:text="'~ ' + ${user.suspendUntil}"></small>
						</div> <span th:if="${user.status != 'SUSPEND'}">-</span>
					</td>
					<td>
						<form th:action="@{/admin/user-status/activate}" method="post"
							th:if="${user.status == 'SUSPEND'}" class="d-inline">
							<input type="hidden" name="appUserId"
								th:value="${user.appUserId}" /> <input type="hidden"
								th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
							<button type="submit" class="btn btn-sm btn-outline-success">정지
								해제</button>
						</form>

						<form th:action="@{/admin/user-status/suspend}" method="post"
							th:if="${user.status != 'SUSPEND'}" class="row g-1">
							<input type="hidden" name="appUserId"
								th:value="${user.appUserId}" /> <input type="hidden"
								th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
							<div class="col-auto">
								<input type="text" name="reason"
									class="form-control form-control-sm" placeholder="사유" required />
							</div>
							<div class="col-auto">
								<input type="date" name="untilDate"
									class="form-control form-control-sm" required />
							</div>
							<div class="col-auto">
								<button type="submit" class="btn btn-sm btn-danger">정지</button>
							</div>
						</form>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>